<?php
/* @var $form \Laminas\Form\Form */

$salutation = $form->get('anrede');
$salutation->setLabelAttributes([
    'class' => 'required'
]);

$firstname = $form->get('vorname');
$firstname->setAttribute('id', $firstname->getAttribute('id'))
    ->setAttribute('class', 'form-control form-control-lg d-block order-md-1 order-sd-0')
    ->setAttribute('autocomplete', 'off')
    ->setAttribute('spellcheck', 'false')
    ->setAttribute('required', true)
    ->setAttribute('data-required-message', 'Bitte geben Sie Ihren Vornamen ein.')
    ->setLabelAttributes([
        'class' => 'required order-md-0 order-sd-1 d-block'
    ]);

$surname = $form->get('nachname');
$surname->setAttribute('id', $surname->getAttribute('id'))
    ->setAttribute('class', 'form-control form-control-lg js-filter-name')
    ->setAttribute('autocomplete', 'off')
    ->setAttribute('spellcheck', 'false')
    ->setAttribute('required', true)
    ->setAttribute('data-required-message', 'Bitte geben Sie Ihren Nachnamen ein.')
    ->setLabelAttributes([
        'class' => 'required'
    ]);

$telephone = $form->get('telefon');
$telephone->setAttribute('autocomplete', 'off')
    ->setAttribute('spellcheck', 'false')
    ->setAttribute('class', 'form-control form-control-lg')
    ->setAttribute('id', $telephone->getAttribute('id'))
    ->setAttribute('pattern', '^([+][ ]?[1-9][0-9][ ]?[-]?[ ]?|[(]?[0][ ]?)[0-9]{3,4}[-)/ ]?[ ]?[1-9][-0-9 ]{4,16}$')
    ->setAttribute('data-pattern-message', 'Bitte geben Sie eine gültige Telefonnummer ein.');

$email = $form->get('email');
$email->setAttribute('id', $email->getAttribute('id'))
    ->setAttribute('class', 'form-control form-control-lg js-filter-whitespace js-filter-to-lower')
    ->setAttribute('autocomplete', 'off')
    ->setAttribute('spellcheck', 'false')
    ->setAttribute('required', true)
    ->setAttribute('data-required-message', 'Bitte geben Sie eine E-Mail Adresse ein.')
    ->setAttribute('pattern', '^[a-zA-Z0-9.!#$%&\'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$')
    ->setAttribute('data-pattern-message', 'Bitte geben Sie eine gültige E-Mail Adresse ein.')
    ->setLabelAttributes([
        'class' => 'required'
    ]);

$title = $form->get('title');
$title->setAttribute('id', $title->getAttribute('id'))
    ->setAttribute('class', 'form-control form-control-lg')
    ->setAttribute('autocomplete', 'off')
    ->setAttribute('spellcheck', 'false');

$message = $form->get('message');
$message->setAttribute('id', $message->getAttribute('id'))
    ->setAttribute('class', 'form-control form-control-lg js-autosize')
    ->setAttribute('spellcheck', 'false')
    ->setAttribute('required', true)
    ->setAttribute('data-required-message', 'Bitte geben Sie eine Nachricht ein.')
    ->setLabelAttributes([
        'class' => 'required'
    ]);

$privacyPolicy = $form->get('agb');
$privacyPolicy->setAttribute('class', 'custom-control-input')
    ->setAttribute('id', $privacyPolicy->getAttribute('id'))
    ->setAttribute('required', true)
    ->setAttribute('data-required-message', 'Bitte stimmen Sie den Datenschutzbedingungen zu.')
    ->setLabel($privacyPolicy->getLabel() . '<span class="required-element"></span>')
    ->setLabelAttributes([
        'class' => 'custom-control-label'
    ]);

$sToken = $form->get('sToken');

$submit = $form->get('submit');
$submit->setAttribute('class', 'btn btn-colored-default-lg btn-block');

$form->setAttribute('class', 'js-form-validation-base js-ajax-form')->prepare();
?>

<div class="container">
    <div class="card mb-3">
        <div class="card-body">
            <h1 class="card-title">Lorem ipsum dolor sit amet, consetetur sadipscing</h1>
            <div class="card-text">
                <strong>Lorem ipsum dolor sit amet</strong>
                <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat</p>
            </div>
        </div>
    </div>
    <div class="card mb-3">
        <div class="row g-0">
            <div class="col-md-6">
                <div class="card-body">
                    <h1 class="card-title">Lorem ipsum dolor</h1>
                    <div class="card-text row justify-content-start align-items-top">
                        <div class="col-12 col-sm-auto col-lg-12">
                            <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed</p>
                            <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <?= $this->form()->openTag($form) ?>
                <div class="row">
                    <div class="col-12 col-md-10">
                        <div class="row form-group is-group">
                            <div class="col-md-4">
                                <?= $this->formLabel($salutation); ?>
                            </div>
                            <div class="col-md-8">
                            <?php foreach ($salutation->getOption('value_options') as $key => $option) : ?>
                                <div class="form-check form-check-inline">
                                    <input
                                        type="radio"
                                        class="form-check-input"
                                        id="salutation-<?= $key ?>"
                                        required
                                        data-required-message="Bitte wählen Sie eine Anrede."
                                        name="<?= $salutation->getName() ?>"
                                        value="<?= $option ?>"
                                        <?php if ($salutation->getValue() === $option) : ?> checked="checked"<?php endif; ?> />
                                    <label for="salutation-<?= $key ?>" class="form-check-label"><?= $option ?></label>
                                </div>
                            <?php endforeach; ?>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="d-flex flex-column flex-nowrap">
                            <?= $this->formElement($firstname) ?>
                            <?= $this->formLabel($firstname) ?>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="d-flex flex-column flex-nowrap">
                            <?= $this->formLabel($surname) ?>
                            <?= $this->formElement($surname) ?>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <?= $this->formLabel($telephone) ?>
                            <?= $this->formElement($telephone) ?>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <?= $this->formLabel($email) ?>
                            <?= $this->formElement($email) ?>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="form-group">
                            <?= $this->formLabel($title) ?>
                            <?= $this->formElement($title) ?>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="form-group">
                            <?= $this->formLabel($message) ?>
                            <?= $this->formElement($message) ?>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="form-group">
                            <div class="custom-control custom-checkbox">
                                <?= $this->formElement($privacyPolicy); ?>
                                <?= $this->formLabel($privacyPolicy); ?>
                            </div>
                        </div>
                        <div class="row justify-content-sm-end">
                            <div class="col-12 col-sm-6">
                                <div class="form-group form-buttom mb-md-0">
                                    <?= $this->formButton($submit); ?>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <?= $this->form()->closeTag() ?>
            </div>
        </div>
    </div>
</div>

